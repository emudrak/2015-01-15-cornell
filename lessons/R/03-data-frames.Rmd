---
layout: topic
title: The `data.frame` class
minutes: 30
---

```{r, echo=FALSE, purl=FALSE}
knitr::opts_chunk$set(results='hide', fig.path='img/r-lesson')
surveys <- read.csv(file="../../data/biology/surveys.csv")
```


> ## Learning Objectives
>
> * understand the concept of a `data.frame`
> * know how to access any element or section of a `data.frame`
> * use sequences



# Indexing and sequences

```{r, echo=FALSE, purl=TRUE}
## Indexing and sequences
```

If we want to extract one or several values from a vector, we must provide one
or several indices in square brackets, just as we do in math. For instance:

```{r, results='show', purl=FALSE}
animals <- c("mouse", "rat", "dog", "cat")
animals[2]
animals[c(3, 2)]
animals[2:4]
more_animals <- animals[c(1:3, 2:4)]
more_animals
```

Show everything except a certain index by using the minus sign

```{r, results='show', purl=FALSE}
animals[-1]
animals[c(-2,-4)]

```




R indexes start at 1. Programming languages like Fortran, MATLAB, and R start
counting at 1, because that's what human beings typically do. Languages in the C
family (including C++, Java, Perl, and Python) count from 0 because that's
simpler for computers to do.

`:` is a special function that creates numeric vectors of integer in increasing
or decreasing order, test `1:10` and `10:1` for instance. The function `seq()`
(for __seq__uence) can be used to create more complex patterns:

```{r, results='show', purl=FALSE}
seq(1, 10, by=2)
seq(5, 10, length.out=3)
seq(50, by=5, length.out=10)
seq(1, 8, by=3) # sequence stops to stay below upper limit
```

Our survey data frame has rows and columns (it has 2 dimensions), if we want to
extract some specific data from it, we need to specify the "coordinates" we want
from it. Row numbers come first, followed by column numbers.

```{r, purl=FALSE}
surveys[1, 1]   # first element in the first column of the data frame
surveys[1, 6]   # first element in the 6th column
surveys[1:3, 7] # first three elements in the 7th column
surveys[1:3, 4:7] # first three elements in the 4th through 7th columns
surveys[3, ]    # the 3rd element for all columns
surveys[, 8]    # the entire 8th column
```

### Challenge

1. The function `nrow()` on a `data.frame` returns the number of rows. Use it,
   in conjuction with `seq()` to create a new `data.frame` called
   `surveys_by_10` that includes every 10th row of the survey data frame
   starting at row 10 (10, 20, 30, ...)

```{r, echo=FALSE, purl=TRUE}
### The function `nrow()` on a `data.frame` returns the number of
### rows. Use it, in conjuction with `seq()` to create a new
### `data.frame` called `surveys_by_10` that includes every 10th row
### of the survey data frame starting at row 10 (10, 20, 30, ...)
```

<!---
```{r, purl=FALSE}
surveys_by_10 <- surveys[seq(10, nrow(surveys), by=10), ]
```
--->
